
{{> header}}

<div class="container-fluid">

    <h2 class="text-center" id="test">
        {{project_id}}
    </h2>

    <a class="btn btn-outline-danger text-left" href="/projs/{{project_id}}">See the project</a>

    <div class="btn-group-toggle text-center" data-toggle="buttons">
        <label class="btn btn-outline-dark text-center active" id="option-list">
            <input type="radio" name="detail" autocomplete="off" checked> Detail
        </label>
        <label class="btn btn-outline-dark text-center" id="option-list">
            <input type="radio" name="licenses" autocomplete="off"> Licenses
        </label>
        <label class="btn btn-outline-dark text-center" id="option-list">
            <input type="radio" name="vulnerabilities" autocomplete="off"> Vulnerabilities
        </label>
    </div>

    <br>

    <div id="detail">

        <div class="card">
            Report generation time: {{build_id}}
            <br>
            {{#build_tag}}
                Tag: {{build_tag}}
            {{/build_tag}}
        </div>

        <br>

        Vulnerable
        <ul class="list-group" id="error-list">
            {{#vulnerable_dependencies}}
                <li class="list-group-item list-group-item-danger">
                    <a href="/projs/{{project_id}}/report/{{build_id}}/deps/{{pk.id}}/version/{{pk.mainVersion}}" class="list-group-item list-group-item-action">
                        Name: {{pk.id}}
                        <br>
                        Main Version: {{pk.mainVersion}}
                        <br>
                        {{vulnerabilitiesCount}} vulnerabilities found
                    </a>
                </li>
                <br>
            {{/vulnerable_dependencies}}
        </ul>

        <br>

        Not Vulnerable
        <ul class="list-group" id="dependency-list">
            {{#dependencies}}
                <li class="list-group-item list-group-item-success">
                    <a href="/projs/{{project_id}}/report/{{build_id}}/deps/{{pk.id}}/version/{{pk.mainVersion}}" class="list-group-item list-group-item-action">
                        Name: {{pk.id}}
                        <br>
                        Main Version: {{pk.mainVersion}}
                        <br>
                        {{vulnerabilitiesCount}} vulnerabilities found
                    </a>
                </li>
                <br>
            {{/dependencies}}
        </ul>

    </div>

    <div id="licenses" hidden>
        <ul class="list-group">
            {{#licenses}}
                <a class="list-group-item list-group-item-action" href="/licenses/{{pk.license.spdxId}}">
                    License Name: {{pk.license.spdxId}}
                    <br>
                    Dependency: {{pk.dependency.pk.id}}
                    <br>
                    Source: {{source}}
                </a>
                <br>
            {{/licenses}}
        </ul>
    </div>

    <div id="vulnerabilities" hidden>
        <ul class="list-group">
            {{#vulnerabilities}}
                <a class="list-group-item list-group-item-action" href="/deps/{{pk.dependency.pk.id}}/vulnerability/{{pk.vulnerability.id}}">
                    Vulnerability Title: {{pk.vulnerability.title}}
                    <br>
                    Description: {{pk.vulnerability.description}}
                    <br>
                    Dependency: {{pk.dependency.pk.id}}
                    <br>
                    Version Criteria: {{versionCriteria}}
                    <br>
                    References
                    <ul class="list-group">
                        {{#pk.vulnerability.info}}
                            <a class="list-group-item list-group-item-action" href="{{.}}">{{.}}</a>
                            <br>
                        {{/pk.vulnerability.info}}
                    </ul>
                </a>
                <br>
            {{/vulnerabilities}}
        </ul>
    </div>

</div>


{{> footer}}